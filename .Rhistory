referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE, all.y=TRUE)
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE, all.y=TRUE)
View(dati[is.na(dati$ISTAT),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE, all.y=TRUE)
View(dati[is.na(dati$ISTAT) OR is.na(dati$DESCCOMUNE),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE, all.y=TRUE)
View(dati[is.na(dati$ISTAT) | is.na(dati$DESCCOMUNE),])
View(dati[is.na(dati$DESCREGIONE),])
View(dati)
summary(dati$Latitudine)
dati[is.na(dati$Latitudine)]
dati[is.na(dati$Latitudine),]
duplicated(dati[,c("Latitudine","Longitudine")])
sum(duplicated(dati[,c("Latitudine","Longitudine")]))
dati[duplicated(dati[,c("Latitudine","Longitudine")]),]
View(dati[duplicated(dati[,c("Latitudine","Longitudine")]),])
dati[dati$DESCCOMUNE=='BOLLATE',]
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE, all.y=TRUE)
View(dati[is.na(dati$ISTAT),])
# problema accenti
dati <- dati[!is.na(dati$ISTAT),]
View(dati[is.na(dati$ISTAT),])
View(is.na(dati$DESCCOMUNE))
sum(is.na(dati$DESCCOMUNE))
library(ggplot2)
View(dati)
dati$VOTANTI_F <- dati$VOTANTI - dati$VOTANTI_M
dati$VOTANTI_M
dati$VOTANTI
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
str(referendum)
referendum$ELETTORI
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http
str(referendum)
referendum$ELETTORI
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE, all.y=TRUE)
View(dati[is.na(dati$ISTAT),])
dati <- dati[!is.na(dati$ISTAT),]
dati$DESCREGIONE <- as.factor(dati$DESCREGIONE)
dati$DESCPROVINCIA <- as.factor(dati$DESCPROVINCIA)
dati$DESCCOMUNE <- as.factor(dati$DESCCOMUNE)
dati$VOTANTI_F <- dati$VOTANTI - dati$VOTANTI_M
View(dati)
dati$VOTI <- dati$NUMVOTISI + dati$NUMVOTINO
dati$PERC_SI <- dati$NUMVOTISI / dati$VOTI
View(dati)
dati$PERC_VOTANTI <- dati$VOTANTI / dati$ELETTORI
hist(dati$PERC_VOTANTI)
dati$ELETTORI_F <- dati$ELETTORI - dati$ELETTORI_M
hist(dati$VOTANTI)
hist(dati$PERC_VOTANTI)
hist(dati$VOTANTI_M / dati$ELETTORI_M)
hist(dati$VOTANTI_F / dati$ELETTORI_F)
hist(dati$PERC_VOTANTI)
hist(dati$VOTANTI_M / dati$ELETTORI_M)
hist(dati$VOTANTI_F / dati$ELETTORI_F)
hist(dati$VOTANTI_M / dati$ELETTORI_M)
?t.test
t.test(x=(dati$VOTANTI_M / dati$ELETTORI_M), y=(dati$VOTANTI_F / dati$ELETTORI_F))
sum(dati$VOTANTI_M)
sum(dati$VOTANTI_M)
?sum
sum(dati$VOTANTI_M,na.rm = T)
sum(dati$VOTANTI_M,na.rm = T) / sum(dati$ELETTORI_M, na.rm = T)
sum(dati$VOTANTI_F,na.rm = T) / sum(dati$ELETTORI_F, na.rm = T)
sum(is.na(dati$VOTANTI_F))
sum(is.na(dati$VOTANTI_M))
sum(is.na(dati$VOTANTI))
View(dati[is.na(dati$VOTANTI)])
View(dati[is.na(dati$VOTANTI),])
setwd("~/GitHub/Referendum-Costituzionale-2016")
referendum <- read.csv("resources/ScrutiniFI.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
head(referendum)
# add data thanks to http://ckan.ancitel.it/dataset/comuni-italiani-dati-territoriali-e-demografici
comuni <- read.csv("resources/comuniitaliani.csv",sep = ";", stringsAsFactors=FALSE, encoding="UTF-8")
comuni$Comune <- toupper(comuni$Comune)
comuni$Provincia <- toupper(comuni$Provincia)
comuni$Regione <- toupper(comuni$Regione)
head(comuni)
dati <- merge(x=referendum,
y=comuni,
by.x=c("DESCREGIONE", "DESCCOMUNE"),
by.y=c("Regione", "Comune"),
all.x=TRUE)
View(dati[is.na(dati$ISTAT),])
dati <- dati[!is.na(dati$ISTAT),]
# problema accenti
dati$DESCREGIONE <- as.factor(dati$DESCREGIONE)
dati$DESCPROVINCIA <- as.factor(dati$DESCPROVINCIA)
dati$DESCCOMUNE <- as.factor(dati$DESCCOMUNE)
dati$ELETTORI_F <- dati$ELETTORI - dati$ELETTORI_M
dati$VOTANTI_F <- dati$VOTANTI - dati$VOTANTI_M
dati$VOTI <- dati$NUMVOTISI + dati$NUMVOTINO
dati$PERC_SI <- dati$NUMVOTISI / dati$VOTI
dati$PERC_VOTANTI <- dati$VOTANTI / dati$ELETTORI
View(dati[is.na(dati$VOTANTI),])
summary(dati)
dati <- dati[!is.na(dati$Longitudine),]
dati <- dati[!is.na(dati$ELETTORI)]
dati <- dati[!is.na(dati$ELETTORI_M)]
dati <- dati[!is.na(dati$VOTANTI)]
dati <- dati[!is.na(dati$VOTANTI_M)]
dati <- dati[!is.na(dati$Longitudine),]
dati <- dati[!is.na(dati$ELETTORI),]
dati <- dati[!is.na(dati$ELETTORI_M),]
dati <- dati[!is.na(dati$VOTANTI),]
dati <- dati[!is.na(dati$VOTANTI_M),]
summary(dati)
sum(is.na(dati$NUMVOTISI))
sum(is.na(dati$VOTI))
sum(is.na(dati$PERC_SI))
View(dati[is.na(dati$PERC_SI)])
View(dati[is.na(dati$PERC_SI),])
dati[is.na(dati$PERC_SI),"PERC_SI"] <- 0
hist(dati$PERC_VOTANTI)
hist(dati$VOTANTI_M / dati$ELETTORI_M)
hist(dati$VOTANTI_F / dati$ELETTORI_F)
(dati$VOTANTI_M / dati$ELETTORI_M)
sum(dati$VOTANTI_M) / sum(dati$ELETTORI_M)
hist(dati$VOTANTI_M / dati$ELETTORI_M)
hist(dati$VOTANTI_M / dati$ELETTORI_M, nclass = round(sqrt(len(dati$VOTANTI_M))))
hist(dati$VOTANTI_M / dati$ELETTORI_M, nclass = round(sqrt(length(dati$VOTANTI_M))))
hist(dati$VOTANTI_F / dati$ELETTORI_F, nclass = round(sqrt(length(dati$VOTANTI_F))))
sum(dati$VOTANTI_F) / sum(dati$ELETTORI_F)
sum(dati$VOTANTI_M) / sum(dati$ELETTORI_M)
sum(dati$VOTANTI_F) / sum(dati$ELETTORI_F)
mean8dati$VOTANTI_F / dati$ELETTORI_F
mean8dati$VOTANTI_F / dati$ELETTORI_F
mean(dati$VOTANTI_F / dati$ELETTORI_F)
abline(v=dati$VOTANTI_F / dati$ELETTORI_F)
hist(dati$VOTANTI_F / dati$ELETTORI_F, nclass = round(sqrt(length(dati$VOTANTI_F))))
abline(v=mean(dati$VOTANTI_F / dati$ELETTORI_F), col=2)
abline(v=mean(dati$VOTANTI_F / dati$ELETTORI_F), col=2, lwd=5)
t.test(x=(dati$VOTANTI_M / dati$ELETTORI_M), y=(dati$VOTANTI_F / dati$ELETTORI_F))
median(dati$VOTANTI_F / dati$ELETTORI_F)
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))))
dati$PERC_VOTANTI <- dati$VOTANTI / dati$ELETTORI
dati$PERC_VOTANTI_M <- dati$VOTANTI_M / dati$ELETTORI_M
dati$PERC_VOTANTI_F <- dati$VOTANTI_F / dati$ELETTORI_F
dati[is.na(dati$PERC_SI),"PERC_SI"] <- 0
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))))
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))))
abline(v=mean(dati$PERC_VOTANTI_F), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_F), col=3, lwd=3)
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))))
abline(v=mean(dati$PERC_VOTANTI_M), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_M), col=3, lwd=3)
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))), xlim=c(0,1))
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_F), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_F), col=3, lwd=3)
par(mfrow=c(1,1))
par(mfrow=c(2,1))
hist(dati$PERC_VOTANTI)
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_M), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_M), col=3, lwd=3)
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_F), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_F), col=3, lwd=3)
par(mfrow=c(1,1))
hist(dati$PERC_VOTANTI)
par(mfrow=c(2,1))
hist(dati$PERC_VOTANTI)
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_M), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_M), col=3, lwd=3)
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_F), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_F), col=3, lwd=3)
par(mfrow=c(1,1))
hist(dati$PERC_VOTANTI)
par(mfrow=c(2,1))
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_M), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_M), col=3, lwd=3)
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_F), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_F), col=3, lwd=3)
par(mfrow=c(1,1))
hist(dati$PERC_VOTANTI, nclass = round(sqrt(length(dati$PERC_VOTANTI))))
par(mfrow=c(2,1))
hist(dati$PERC_VOTANTI_M, nclass = round(sqrt(length(dati$PERC_VOTANTI_M))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_M), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_M), col=3, lwd=3)
hist(dati$PERC_VOTANTI_F, nclass = round(sqrt(length(dati$PERC_VOTANTI_F))), xlim=c(0,1))
abline(v=mean(dati$PERC_VOTANTI_F), col=2, lwd=3)
abline(v=median(dati$PERC_VOTANTI_F), col=3, lwd=3)
par(mfrow=c(1,1))
max(dati$PERC_VOTANTI_M)
which(dati$PERC_VOTANTI_M>1)
View(dati[which(dati$PERC_VOTANTI_M>1),])
hist(dati$NUMVOTIBIANCHI)
hist(dati$NUMVOTIBIANCHI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$NUMVOTINONVALIDI, nclass = round(sqrt(length(dati$NUMVOTINONVALIDI))))
hist(dati$NUMVOTICONTESTATI, nclass = round(sqrt(length(dati$NUMVOTICONTESTATI))))
hist(dati$NUMVOTIBIANCHI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$NUMVOTIBIANCHI/dati$VOTANTI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$NUMVOTINONVALIDI/dati$VOTANTI, nclass = round(sqrt(length(dati$NUMVOTINONVALIDI))))
hist(dati$NUMVOTICONTESTATI/dati$VOTANTI, nclass = round(sqrt(length(dati$NUMVOTICONTESTATI))))
par(mfrow=c(3,2))
hist(dati$NUMVOTIBIANCHI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$NUMVOTIBIANCHI/dati$VOTANTI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$NUMVOTINONVALIDI, nclass = round(sqrt(length(dati$NUMVOTINONVALIDI))))
hist(dati$NUMVOTINONVALIDI/dati$VOTANTI, nclass = round(sqrt(length(dati$NUMVOTINONVALIDI))))
hist(dati$NUMVOTICONTESTATI, nclass = round(sqrt(length(dati$NUMVOTICONTESTATI))))
hist(dati$NUMVOTICONTESTATI/dati$VOTANTI, nclass = round(sqrt(length(dati$NUMVOTICONTESTATI))))
dati[dati$NUMVOTICONTESTATI>0,]
dim(dati[dati$NUMVOTICONTESTATI>0,])
par(mfrow=c(1,1))
dati[dati$NUMVOTICONTESTATI>0,"NUMVOTICONTESTATI"]
boxplot(dati[dati$NUMVOTICONTESTATI>0,"NUMVOTICONTESTATI"])
mean(dati[dati$NUMVOTICONTESTATI>0,"NUMVOTICONTESTATI"])
summary(dati[dati$NUMVOTICONTESTATI>0,"NUMVOTICONTESTATI"])
hist(dati[dati$NUMVOTICONTESTATI>0,"NUMVOTICONTESTATI"], nclass=round(sqrt(300)))
dati[dati$NUMVOTICONTESTATI>3,"NUMVOTICONTESTATI"]
dati[dati$NUMVOTICONTESTATI>3,c("NUMVOTIBIANCHI","NUMVOTINONVALIDI","NUMVOTICONTESTATI")]
dati$PERC_BIANCHI <- dati$NUMVOTIBIANCHI/dati$VOTANTI
dati$PERC_NONVALIDI <- dati$NUMVOTINONVALIDI/dati$VOTANTI
dati$PERC_CONTESTATI <- dati$NUMVOTICONTESTATI/dati$VOTANTI
par(mfrow=c(3,2))
hist(dati$NUMVOTIBIANCHI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$PERC_BIANCHI, nclass = round(sqrt(length(dati$NUMVOTIBIANCHI))))
hist(dati$NUMVOTINONVALIDI, nclass = round(sqrt(length(dati$NUMVOTINONVALIDI))))
hist(dati$PERC_NONVALIDI, nclass = round(sqrt(length(dati$NUMVOTINONVALIDI))))
hist(dati$NUMVOTICONTESTATI, nclass = round(sqrt(length(dati$NUMVOTICONTESTATI))))
hist(dati$PERC_CONTESTATI, nclass = round(sqrt(length(dati$NUMVOTICONTESTATI))))
par(mfrow=c(1,1))
View(dati[dati$NUMVOTICONTESTATI>3,])
dati[dati$DESCCOMUNE=='PADERNO DUGNANO',]
max(dati$PERC_BIANCHI)
max(dati$PERC_BIANCHI,na.rm = T)
max(dati$PERC_NONVALIDI,na.rm = T)
max(dati$PERC_CONTESTATI,na.rm = T)
dati$PERC_NONVALIDI
dati[dati$PERC_NONVALIDI>0.05,"PERC_NONVALIDI"]
dati[dati$PERC_NONVALIDI>0.05,"PERC_NONVALIDI"]
which(is.na(dati$PERC_CONTESTATI))
View(dati[which(is.na(dati$PERC_CONTESTATI)),])
View(dati[which(is.na(dati$PERC_BIANCHI)),])
View(dati[which(is.na(dati$PERC_NONVALIDI)),])
dati$PERC_BIANCHI <- dati$NUMVOTIBIANCHI/dati$VOTANTI
dati[is.na(dati$PERC_BIANCHI),"PERC_BIANCHI"] <- 0
dati$PERC_NONVALIDI <- dati$NUMVOTINONVALIDI/dati$VOTANTI
dati[is.na(dati$PERC_NONVALIDI),"PERC_NONVALIDI"] <- 0
dati$PERC_CONTESTATI <- dati$NUMVOTICONTESTATI/dati$VOTANTI
dati[is.na(dati$PERC_CONTESTATI),"PERC_CONTESTATI"] <- 0
max(dati$PERC_CONTESTATI)
max(dati$PERC_BIANCHI)
max(dati$PERC_NONVALIDI)
head(sort(dati$PERC_NONVALIDI))
head(sort(dati$PERC_NONVALIDI,decreasing = F))
sort(dati$PERC_NONVALIDI)
sort(dati$PERC_NONVALIDI, decreasing = True)
sort(dati$PERC_NONVALIDI, decreasing = T)
View(dati[dati$PERC_NONVALIDI>.05,])
str(dati)
aggregate(dati$NUMVOTISI, by=list(Group=dati$DESCREGIONE), FUN=sum)
str(aggregate(dati$NUMVOTISI, by=list(Group=dati$DESCREGIONE), FUN=sum))
aggregate(list(dati$NUMVOTISI, dati$VOTANTI), by=list(Group=dati$DESCREGIONE), FUN=sum)
aggregate(~ DESCREGIONE, dati, sum)
aggregate(. ~ DESCREGIONE, dati, sum)
names(dati)
aggregate(ELETTORI + VOTANTI + NUMVOTISI ~ DESCREGIONE, dati, sum)
aggregate(.  ~ DESCREGIONE, dati[,c("NUMVOTISI","DESCREGIONE")], sum)
aggregate(.  ~ DESCREGIONE, dati[,c("ELETTORI","VOTANTI","NUMVOTISI","DESCREGIONE")], sum)
dati_regione <- aggregate(.  ~ DESCREGIONE, dati[,c("ELETTORI","VOTANTI","NUMVOTISI","DESCREGIONE")], sum)
dati_regione$PERC_VOTANTI <- dati_regione$VOTANTI/dati_regione$ELETTORI
dati_regione$PERC_SI <- dati_regione$NUMVOTISI/dati_regione$VOTANTI
dati_regione
names(referendum)
dati$NUMVOTISI*dati$VOTANTI
dati$NUMVOTISI
sum(dati$NUMVOTISI)
sum(dati$NUMVOTINO)
sum(dati$NUMVOTIBIANCHI)
sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI)
sum(dati$NUMVOTISI)
sum(dati$NUMVOTINO)
sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI)
sum(dati$VOTANTI) - (sum(dati$NUMVOTISI) + sum(dati$NUMVOTINO) + sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI))
sum(dati$ELETTORI) - (sum(dati$NUMVOTISI) + sum(dati$NUMVOTINO) + sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI))
totalone <- data.frame(tipo=c("sì","no","altri","non votato"))
totalone
totalone <- data.frame(tipo=c("sì","no","altri","non votato"), valore=c(sum(dati$NUMVOTISI), sum(dati$NUMVOTINO), sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI), sum(dati$ELETTORI) - (sum(dati$NUMVOTISI) + sum(dati$NUMVOTINO) + sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI))
))
totalone
barplot(totalone)
barplot(t(totalone))
barplot(totalone$valore)
barplot(totalone$valore, names.arg = totalone$tipo)
barplot(totalone$valore, names.arg = totalone$tipo, col=c(3,2,"grey","grey"))
totalone <- data.frame(tipo=c("sì","no + non votato","altri"), valore=c(sum(dati$NUMVOTISI), sum(dati$ELETTORI) - (sum(dati$NUMVOTISI) + sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI)), sum(dati$NUMVOTIBIANCHI) + sum(dati$NUMVOTINONVALIDI) + sum(dati$NUMVOTICONTESTATI)))
barplot(totalone$valore, names.arg = totalone$tipo, col=c(3,2,"grey"))
